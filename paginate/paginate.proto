syntax = "proto3";

package paginate;

//option go_package = "github.com/chrisho/proto/paginate;paginate";

// ------------------------------------------------------------
// PaginateMode : PageNumber or MaxId, default PageNumber
// PaginateMode ： 0 == PageNumber , 1 == MaxId
// ------------------------------------------------------------
// PaginateMode - PageNumber 参数：
// PaginateMode-0、PageSize-N、PageNumber-N、OrderBy-排序(default id desc)
// OrderBy : strings.Join()、helper.ImplodeMapInt32String()、helper.ImplodeMapIntString()
// ------------------------------------------------------------
// PaginateMode - MaxId 参数：
// PaginateMode-1、PageSize-N、MaxId-N、Action-0 || 1
// Action : 1 == NextPage , 0 == PreviousPage (default Action  PreviousPage)
// default first page : select * from table order by id desc limit 0,PageSize
// ------------------------------------------------------------
message PageOptions {
    int32 PaginateMode = 1; // PaginateMode ： 0 == PageNumber , 1 == MaxId
    int32 PageSize = 2; // 一页显示 PageSize 条 （默认 10）

    // PaginateMode - MaxId
    int32 MaxId = 3;
    int32 Action = 4;

    // PaginateMode - PageNumber
    int32 PageNumber = 5; // 第几页
    string OrderBy = 6;
}

// total TotalRecords entries , total TotalPages pages
message PageResult {
    string PaginateMode = 1;
    int32 TotalRecords = 2;
    int32 TotalPages = 3;
    int32 PageSize = 4;
    int32 MaxId = 5;
    int32 MinId = 6;
    int32 PageNumber = 7;
    string Action = 8;
}
